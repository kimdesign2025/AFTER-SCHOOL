 {% load static %}
 <!-- Bootstrap 5 JS et dépendances -->
 <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    
 <script>
     // Graphique d'activité
     const activityCtx = document.getElementById('activityChart').getContext('2d');
     const activityChart = new Chart(activityCtx, {
         type: 'line',
         data: {
             labels: ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', '23', '24', '25', '26', '27', '28', '29', '30'],
             datasets: [{
                 label: 'Nouveaux utilisateurs',
                 data: [12, 19, 15, 21, 14, 16, 25, 18, 20, 17, 22, 19, 24, 28, 25, 30, 27, 32, 35, 38, 34, 40, 42, 45, 48, 50, 52, 55, 58, 60],
                 borderColor: '#4361ee',
                 backgroundColor: 'rgba(67, 97, 238, 0.1)',
                 tension: 0.3,
                 fill: true
             }, {
                 label: 'Connexions',
                 data: [30, 35, 40, 45, 50, 55, 60, 65, 70, 75, 80, 85, 90, 95, 100, 105, 110, 115, 120, 125, 130, 135, 140, 145, 150, 155, 160, 165, 170, 175],
                 borderColor: '#4cc9f0',
                 backgroundColor: 'rgba(76, 201, 240, 0.1)',
                 tension: 0.3,
                 fill: true
             }]
         },
         options: {
             responsive: true,
             maintainAspectRatio: false,
             plugins: {
                 legend: {
                     position: 'top',
                 },
                 tooltip: {
                     mode: 'index',
                     intersect: false,
                 }
             },
             scales: {
                 y: {
                     beginAtZero: true
                 }
             }
         }
     });

     // Graphique de répartition des utilisateurs
     const userDistCtx = document.getElementById('userDistributionChart').getContext('2d');
     const userDistributionChart = new Chart(userDistCtx, {
         type: 'doughnut',
         data: {
             labels: ['Étudiants', 'Enseignants', 'Administrateurs'],
             datasets: [{
                 data: [75, 20, 5],
                 backgroundColor: [
                     '#4361ee',
                     '#4cc9f0',
                     '#3f37c9'
                 ],
                 borderWidth: 0
             }]
         },
         options: {
             responsive: true,
             maintainAspectRatio: false,
             plugins: {
                 legend: {
                     position: 'right',
                 }
             },
             cutout: '70%'
         }
     });

     // Graphique des statuts de demande
     const requestStatusCtx = document.getElementById('requestStatusChart').getContext('2d');
     const requestStatusChart = new Chart(requestStatusCtx, {
         type: 'bar',
         data: {
             labels: ['Approuvées', 'En attente', 'Rejetées'],
             datasets: [{
                 data: [45, 30, 25],
                 backgroundColor: [
                     '#2ecc71',
                     '#f39c12',
                     '#e74c3c'
                 ],
                 borderWidth: 0,
                 borderRadius: 10
             }]
         },
         options: {
             responsive: true,
             maintainAspectRatio: false,
             plugins: {
                 legend: {
                     display: false
                 }
             },
             scales: {
                 y: {
                     beginAtZero: true,
                     display: false
                 }
             }
         }
     });

     // Animation au chargement
     document.addEventListener('DOMContentLoaded', function() {
         const cards = document.querySelectorAll('.card');
         cards.forEach((card, index) => {
             setTimeout(() => {
                 card.style.opacity = 1;
                 card.style.transform = 'translateY(0)';
             }, 100 * index);
         });
     });
 </script>